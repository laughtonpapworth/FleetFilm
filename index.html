<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
     <meta name="theme-color" content="#1f2937"/>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="icons/icon-192.png" />
  <title>Fleet Film</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Firebase (compat for simplicity) -->
  <script defer src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script defer src="js/firebase-config.js"></script>
  <script defer src="js/app.js"></script>
</head>
<body>
  <header class="header" aria-label="Application header">
    <div class="brand" aria-label="Brand">
      <div class="logo" aria-hidden="true">FF</div>
      Fleet Film
    </div>
    <div class="nav" id="nav" aria-label="Navigation" role="navigation">
       <button id="nav-submit" class="active" data-view="submit">Submit</button>
      <button id="nav-intake" data-view="intake">Film List</button>
      <button id="nav-basic" data-view="basic" aria-label="Basic Criteria">Basic Criteria</button>
      <button id="nav-uk" data-view="uk" aria-label="UK Distributor">UK Distributor</button>
      <button id="nav-viewing" data-view="viewing" aria-label="Viewing Queue">Viewing</button>
      <button id="nav-vote" data-view="vote" aria-label="Voting">Voting</button>
      <button id="nav-approved" data-view="approved" aria-label="Approved Films">Approved</button>
      <button id="nav-discarded" data-view="discarded" aria-label="Discarded Films">Discarded</button>
      <button id="nav-archive" data-view="archive">Archive</button>
      <button id="btn-signout" class="btn btn-ghost" aria-label="Sign out">Sign out</button>
    </div>
  </header>

  <main class="container">
    <div id="signed-out" class="center">
      <div class="card signin-card" role="region" aria-label="Sign in">
        <h1>Welcome to Fleet Film</h1>
        <p style="font-size:18px; line-height:1.4;">
          Secure sign-in required. This site works on phones and can be installed like an app.
        </p>
        <div class="actions">
          <button id="btn-google" class="btn btn-primary big" aria-label="Sign in with Google">Sign in with Google</button>
        </div>
        <div class="hr"></div>
        <label for="email" class="large-label">Email</label>
        <input id="email" type="email" placeholder="you@example.com" autocomplete="username" />
        <label for="password" class="large-label">Password</label>
        <input id="password" type="password" placeholder="Password" autocomplete="current-password" />
        <div class="actions">
          <button id="btn-email-signin" class="btn btn-accent big" aria-label="Sign in with email">Sign in</button>
          <button id="btn-email-create" class="btn btn-ghost big" aria-label="Create account">Create account</button>
        </div>
        <div class="notice" role="status">
          Need help? Ask an admin to invite you. Big buttons, simple screens, large text.
        </div>
      </div>
    </div>

    <div id="signed-in" class="hidden">
      <!-- INTAKE LIST (just names, waiting for review) -->
  <section id="view-intake" class="card" aria-label="Film list">
  <h1>Film List</h1>
  <div class="list" id="intake-list"></div>
</section>

      <!-- SUBMIT -->
      <section id="view-submit" class="card hidden" aria-label="Submit film">
        <h1>Submit a Film</h1>
        <label>Title<input id="f-title" type="text" placeholder="Film title" aria-required="true"/></label>
        <label>Year<input id="f-year" type="number" placeholder="e.g., 2024"/></label>
        <label>Distributor (UK)<input id="f-distributor" type="text" placeholder="e.g., Curzon, StudioCanal"/></label>
        <label>Link (IMDB / Trailer / Website)<input id="f-link" type="url" placeholder="https://"/></label>
        <label>Synopsis<textarea id="f-synopsis" placeholder="Short description"></textarea></label>
        <div class="actions">
          <button id="btn-submit-film" class="btn btn-primary big">Submit</button>
        </div>
        <div id="submit-msg" class="notice hidden"></div>
      </section>

      <!-- BASIC CRITERIA REVIEW -->
      <section id="view-basic" class="card hidden" aria-label="Basic criteria">
        <h1>Basic Criteria</h1>
        <div class="list" id="basic-list"></div>
      </section>

      <!-- UK DISTRIBUTOR QUEUE -->
      <section id="view-uk" class="card hidden" aria-label="UK Distributor check">
        <h1>UK Distributor</h1>
        <div class="list" id="uk-list"></div>
      </section>

      <!-- VIEWING QUEUE -->
      <section id="view-viewing" class="card hidden" aria-label="Viewing queue">
        <h1>Viewing Queue</h1>
        <div class="list" id="viewing-list"></div>
      </section>

      <!-- VOTING -->
      <section id="view-vote" class="card hidden" aria-label="Voting">
        <h1>Voting</h1>
        <div class="list" id="vote-list"></div>
      </section>

      <!-- APPROVED -->
      <section id="view-approved" class="card hidden" aria-label="Approved films">
        <h1>Approved Films</h1>
        <div class="list" id="approved-list"></div>
      </section>

      <!-- DISCARDED -->
      <section id="view-discarded" class="card hidden" aria-label="Discarded films">
        <h1>Discarded</h1>
        <div class="list" id="discarded-list"></div>
      </section>

<section id="view-archive" class="card hidden" aria-label="Archive list">
  <h1>Archive</h1>
  <div class="list" id="archive-list"></div>
</section>

    </div>
  </main>

  <footer>
    Tip: On your phone, use “Add to Home Screen” to install.
  </footer>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js').catch(console.error);
      });
    }
  </script>
</body>
</html>
